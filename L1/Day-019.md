# Day 19: Install and Configure Web Application

## Scenario

xFusionCorp Industries is planning to host two static websites on their infrastructure in the Stratos Datacenter. The development of these websites is still in progress, but we want to get the servers ready. Please follow the instructions below to set up the environment.

---

## Instructions

**a.** Install the `httpd` package and its dependencies on App Server 1.

**b.** Configure Apache to serve on port `3002`.

**c.** There are two website backups located at `/home/thor/ecommerce` and `/home/thor/apps` on the jump host. Set them up on Apache so that:
- `ecommerce` should be accessible at [http://localhost:3002/ecommerce/](http://localhost:3002/ecommerce/)
- `apps` should be accessible at [http://localhost:3002/apps/](http://localhost:3002/apps/)

**d.** Once configured, you should be able to access the websites using the `curl` command on the respective app server:
- `curl http://localhost:3002/ecommerce/`
- `curl http://localhost:3002/apps/`

---

## Solution

### 1. Install Apache (`httpd`)

```bash
sudo yum install -y httpd
sudo systemctl enable httpd
```

---

### 2. Configure Apache to Serve on Port 3002

Edit the Apache configuration file:

```bash
sudo vi /etc/httpd/conf/httpd.conf
```

Change the `Listen` directive to:

```
Listen 3002
```

Restart Apache for the changes to take effect:

```bash
sudo systemctl restart httpd
```

---

### 3. Set Up Static Sites from Jump Host

Copy the backups from the jump host to App Server 1:

```bash
scp -r /home/thor/ecommerce tony@stapp01:/tmp/
scp -r /home/thor/apps tony@stapp01:/tmp/
```

On App Server 1, move the directories to Apache's root directory:

```bash
sudo mv /tmp/ecommerce /var/www/html/
sudo mv /tmp/apps /var/www/html/
```

Set the correct permissions:

```bash
sudo chown -R apache:apache /var/www/html/ecommerce
sudo chown -R apache:apache /var/www/html/apps
```

---

### 4. Verify the Setup

Use `curl` to confirm both sites are accessible:

```bash
curl http://localhost:3002/ecommerce/
curl http://localhost:3002/apps/
```

If both commands return the expected website content, the setup is successful.

---
