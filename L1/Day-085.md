# Day 85: Create Files on App Servers using Ansible

## Scenario

The Nautilus DevOps team is testing various Ansible modules on servers in `Stratos DC`. They're currently focusing on file creation on remote hosts using Ansible. Here are the details:

- Create an inventory file `~/playbook/inventory` on `jump host` and include all `app servers`.
- Create a playbook `~/playbook/playbook.yml `to create a blank file `/opt/app.txt` on all app servers.
- Set the permissions of the `/opt/app.txt` file to `0644`.
- Ensure the user/group owner of the `/opt/app.txt` file is `tony` on `app server 1`, `steve` on `app server 2` and `banner` on `app server 3`.

  > **Note:** Validation will run the playbook using the command `ansible-playbook -i inventory playbook.yml`. Ensure the playbook works without any additional arguments.
---

## Task

- Create `Inventory`.
- Create `playbook`.

---

## Solution

### 1. Create ~/playbook/inventory with the following content:

```bash
[app_servers]
stapp01 ansible_host=172.16.238.10 ansible_user=tony ansible_password=Ir0nM@n ansible_python_interpreter=/usr/bin/python3 ansible_ssh_common_args='-o StrictHostKeyChecking=no'
stapp02 ansible_host=172.16.238.11 ansible_user=steve ansible_password=Am3ric@ ansible_python_interpreter=/usr/bin/python3 ansible_ssh_common_args='-o StrictHostKeyChecking=no'
stapp03 ansible_host=172.16.238.12 ansible_user=banner ansible_password=BigGr33n ansible_python_interpreter=/usr/bin/python3 ansible_ssh_common_args='-o StrictHostKeyChecking=no'

```
---

### 2. Create playbook (/~/playbook/playbook.yml)

```yml
---
- name: Create File
  hosts: app_servers
  become: yes
  tasks:
    - name: Create blank file /opt/app.txt with permissions
      file:
        path: /opt/app.txt
        state: touch
        owner: "{{ ansible_user }}"
        group: "{{ ansible_user }}"
        mode: '0644'
```

---

### 3. Validate Result

```bash

ansible-playbook -i inventory playbook.yml

```

## Result

> Check ouput
