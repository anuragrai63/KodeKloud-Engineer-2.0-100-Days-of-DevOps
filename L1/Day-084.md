# Day 84: Copy Data to App Servers using Ansible

## Scenario

The Nautilus DevOps team needs to copy data from the `jump host` to all `application servers` in `Stratos DC` using Ansible. Execute the task with the following details:
- Create an inventory file `/home/thor/ansible/inventory` on `jump_host` and add all application servers as managed nodes.
- Create a playbook `/home/thor/ansible/playbook.yml` on the jump host to `copy` the `/usr/src/dba/index.html` file to all application servers, placing it at `/opt/dba`.
  
  > **Note:** Validation will run the playbook using the command `ansible-playbook -i inventory playbook.yml`. Ensure the playbook works without any additional arguments.
---

## Task

- Create `Inventory`.
- Create `playbook`.

---

## Solution

### 1. Create /home/thor/ansible/inventory with the following content:

```bash
[app_servers]
stapp01 ansible_host=172.16.238.10 ansible_user=tony ansible_password=Ir0nM@n ansible_python_interpreter=/usr/bin/python3 ansible_ssh_common_args='-o StrictHostKeyChecking=no'
stapp02 ansible_host=172.16.238.11 ansible_user=steve ansible_password=Am3ric@ ansible_python_interpreter=/usr/bin/python3 ansible_ssh_common_args='-o StrictHostKeyChecking=no'
stapp03 ansible_host=172.16.238.12 ansible_user=banner ansible_password=BigGr33n ansible_python_interpreter=/usr/bin/python3 ansible_ssh_common_args='-o StrictHostKeyChecking=no'

```
---

### 2. Create playbook (/home/thor/ansible/playbook.yml)

```yml
---
- name: Copy index.html to all app servers
  hosts: app_servers
  become: yes
  tasks:
    - name: Ensure /opt/data directory exists
      file:
        path: /opt/data
        state: directory
        mode: '0755'

    - name: Copy index.html to /opt/data on app servers
      copy:
        src: /usr/src/dba/index.html
        dest: /opt/data/index.html
        owner: root
        group: root
        mode: '0644'
```

---

### 3. Validate Result

```bash

ansible-playbook -i inventory playbook.yml

```

## Result

> Check ouput
