# Day 9: MariaDB Troubleshooting

## Scenario

There is a critical issue going on with the Nautilus application in Stratos DC. The production support team identified that the application is unable to connect to the database. After digging into the issue, the team found that mariadb service is down on the database server.

Look into the issue and fix the same.

---

## Task

**Troubleshoot DB issue on DB Host.**

---

## Solution

### 1. Log in to the DB Host as `thor`

```bash
ssh peter@stdb01
```

---

### 2. Check status of mariadb

```bash
systemctl status mariadb.service
```
- you will notice few errors.

---

### 3. Stop MariaDB

```bash
systemctl stop mariadb
```

Check contents of `/var/lib/mysql`

```bash
ls -l /var/lib/mysql
```
**Output**: cannot access '/var/lib/mysql': No such file or directory

---

### 4. Create Structure with correct ownership and permissions:

```bash
mkdir /var/lib/mysql
chown mysql:mysql /var/lib/mysql
chmod 755 /var/lib/mysql
```

---

### 5. Start MariaDB again and check status:

```bash
systemctl start mariadb
systemctl status mariadb

```

---

**Result:**  
MariaDB issue fix by creating directory `structure` with proper `permission`.
